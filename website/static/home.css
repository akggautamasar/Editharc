/* static/home.css - AirDrive Enhanced Version */

/* --- CSS Variables (Theme Colors & Properties) --- */
:root {
    --font-family-primary: "Roboto", "Inter", sans-serif; /* Added Inter as a fallback/option */

    --primary-color: #007AFF;         /* A nice, modern blue */
    --primary-hover-color: #0056b3;   /* Darker blue for hover */
    --primary-light-color: #E0EFFF;   /* Very light blue for selected items, backgrounds */

    --secondary-color: #6c757d;       /* Muted gray for secondary text/elements */
    --secondary-hover-color: #5a6268;

    --success-color: #28a745;
    --danger-color: #dc3545;
    --warning-color: #ffc107;
    --info-color: #17a2b8;

    --text-color-primary: #212529;    /* Dark gray for primary text */
    --text-color-secondary: #495057;  /* Slightly lighter gray */
    --text-color-muted: #6c757d;      /* Muted gray */

    --body-bg: #F4F7F9;               /* Light airy background for the page */
    --component-bg: #FFFFFF;          /* Background for cards, sidebars, modals */
    --component-secondary-bg: #F8F9FA;/* Slightly off-white for subtle differentiation */
    --input-bg: #FFFFFF;
    --disabled-bg: #e9ecef;

    --border-color: #DEE2E6;          /* Standard border color */
    --border-color-input: #CED4DA;

    --border-radius-sm: 0.25rem;      /* 4px */
    --border-radius: 0.5rem;          /* 8px */
    --border-radius-lg: 0.75rem;      /* 12px */
    --border-radius-pill: 50rem;      /* For pill-shaped buttons */

    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

    --transition-speed: 0.2s;
    --transition-timing: ease-in-out;
}

/* --- Global Reset & Base Styles --- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: var(--font-family-primary);
    /* Removed user-select as it can be annoying for general text. Apply selectively if needed. */
}

body { /* Added body specific styles */
    background-color: var(--body-bg);
    color: var(--text-color-primary);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased; /* Smoother fonts on WebKit */
    -moz-osx-font-smoothing: grayscale;  /* Smoother fonts on Firefox */
}

.container {
    width: 100%;
    height: 100vh;
    display: grid;
    /* background: #f1f1f1; */ /* Replaced by body background */
    grid-template-columns: auto 1fr; /* This is good for sidebar layout */
    overflow: hidden; /* Prevent page scroll if sidebar/main content handles their own */
}

.rotate-90 { /* This class seems fine if used for icons that need rotation */
    transform: rotate(90deg);
}

/* --- Sidebar Style Start --- */
.sidebar {
    width: 260px; /* Slightly wider for better spacing */
    height: 100%;
    background-color: var(--component-bg);
    padding: 24px; /* Consistent padding */
    display: flex;
    flex-direction: column;
    /* justify-content: start; */ /* Default behavior */
    /* align-items: start; */   /* Default behavior */
    border-right: 1px solid var(--border-color); /* Subtle separation */
    /* box-shadow: var(--shadow-sm); */ /* Optional: if you want a slight lift */
}

.sidebar-header {
    display: flex;
    align-items: center;
    /* justify-content: start; */ /* Default */
    margin-bottom: 24px; /* More space after header */
}

.sidebar-header img { /* Assuming this is your AirDrive logo */
    width: 36px; /* Adjusted size */
    height: 36px;
    margin-right: 12px;
}

.sidebar-header span {
    font-size: 1.4rem; /* Larger, more impactful */
    font-weight: 600; /* Bolder for brand */
    color: var(--text-color-primary);
}

.sidebar .new-button {
    padding: 12px 24px; /* Adjusted padding */
    background-color: var(--primary-color); /* Use primary color */
    color: var(--component-bg); /* White text */
    border: none; /* No border needed if bg is solid */
    border-radius: var(--border-radius-pill); /* Pill shape */
    margin-top: 20px; /* Keep this */
    margin-bottom: 10px; /* Space before menu items if new-upload is part of this flow */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background-color var(--transition-speed) var(--transition-timing), box-shadow var(--transition-speed) var(--transition-timing);
    box-shadow: var(--shadow-sm);
    font-size: 0.95rem;
    font-weight: 500;
}

.sidebar .new-button:hover {
    background-color: var(--primary-hover-color);
    box-shadow: var(--shadow);
}

.sidebar .new-button img { /* For the plus icon */
    width: 20px; /* Adjusted size */
    height: 20px;
    margin-right: 10px;
    filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(200%) contrast(100%); /* Makes SVG icon white */
}

.new-upload { /* This is the dropdown menu after clicking "New" */
    position: absolute; /* This will need JS to position correctly relative to .new-button */
    background-color: var(--component-bg);
    padding: 8px 0; /* Vertical padding for the menu box */
    box-shadow: var(--shadow-lg); /* More prominent shadow for dropdown */
    border-radius: var(--border-radius);
    width: 230px; /* Adjust as needed */
    /* top: 40px; */ /* Remove fixed top, position with JS */
    z-index: 100; /* Ensure it's above other sidebar content */
    opacity: 0;
    visibility: hidden; /* Use visibility for better accessibility with opacity */
    transform: translateY(-10px); /* Start slightly up for a subtle animation */
    transition: opacity var(--transition-speed) var(--transition-timing),
                transform var(--transition-speed) var(--transition-timing),
                visibility 0s var(--transition-speed); /* Delay visibility change */
}
.new-upload.active { /* Add this class with JS to show */
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
    transition-delay: 0s;
}


.new-upload div { /* Menu items */
    padding: 10px 20px;
    display: flex;
    align-items: center;
    /* justify-content: start; */ /* Default */
    cursor: pointer;
    transition: background-color var(--transition-speed) var(--transition-timing);
    font-size: 0.9rem;
    color: var(--text-color-secondary);
}

.new-upload div:hover {
    background-color: var(--primary-light-color);
    color: var(--primary-color);
}

.new-upload div img {
    margin-right: 12px;
    height: 18px; /* Adjusted size */
    width: 18px;
    opacity: 0.7;
}
.new-upload div:hover img {
    opacity: 1;
}


.new-upload hr {
    border: none; /* Remove default border */
    border-top: 1px solid var(--border-color);
    margin: 8px 0; /* Spacing for separator */
}

/* --- Background Blur for Modals --- */
.bg-blur {
    position: fixed;
    top: 0; left: 0; /* Cover full screen */
    height: 100vh; /* Use vh for viewport height */
    width: 100vw;  /* Use vw for viewport width */
    background-color: rgba(0, 0, 0, 0.3); /* Darker, but still transparent */
    backdrop-filter: blur(4px); /* Modern blur effect */
    transition: opacity var(--transition-speed) var(--transition-timing), visibility 0s var(--transition-speed);
    z-index: 990; /* Below modals but above content */
    opacity: 0;
    visibility: hidden;
}
.bg-blur.active { /* Add this class with JS to show */
    opacity: 1;
    visibility: visible;
    transition-delay: 0s;
}

/* --- More Options Popover (e.g., for files/folders) --- */
.more-options {
    position: absolute; /* Position with JS */
    background-color: var(--component-bg);
    padding: 8px 0px;
    box-shadow: var(--shadow-lg);
    border-radius: var(--border-radius);
    z-index: 100; /* Ensure it's above table rows */
    opacity: 0;
    visibility: hidden;
    transform: translateY(-5px) translateX(-50%); /* Start slightly up */
    transition: opacity var(--transition-speed) var(--transition-timing),
                transform var(--transition-speed) var(--transition-timing),
                visibility 0s var(--transition-speed);
    width: 180px; /* Slightly wider for more descriptive options */
    /* transform: translateX(-50%); */ /* Keep this if you want to center it above the button */
}
.more-options.active { /* Add with JS */
    opacity: 1;
    visibility: visible;
    transform: translateY(0) translateX(-50%);
    transition-delay: 0s;
}


.more-options div { /* Menu items in more-options */
    width: 100%;
    padding: 10px 15px; /* Adjusted padding */
    display: flex;
    align-items: center;
    /* justify-content: center; */ /* Changed to start for better alignment with icons */
    justify-content: flex-start;
    cursor: pointer;
    transition: background-color var(--transition-speed) var(--transition-timing);
    font-size: 0.9rem;
    color: var(--text-color-secondary);
}

.more-options div:hover {
    background-color: var(--primary-light-color);
    color: var(--primary-color);
}

.more-options div img {
    margin-right: 10px;
    height: 18px;
    width: 18px;
    opacity: 0.7;
}
.more-options div:hover img {
    opacity: 1;
}

.more-options hr {
    border: none;
    border-top: 1px solid var(--border-color);
    margin: 6px 0;
}

/* --- Modal Styles (General for all pop-ups like create folder, rename, etc.) --- */
.modal { /* Common class for all modal dialogs, as suggested in HTML */
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.95); /* Start slightly smaller for animation */
    padding: 24px 30px; /* More padding */
    display: flex; /* Keep this, but content inside will control direction */
    /* align-items: center; */ /* Let content align itself */
    /* justify-content: center; */ /* Let content justify itself */
    flex-direction: column;
    background-color: var(--component-bg);
    border-radius: var(--border-radius-lg); /* Larger radius for modals */
    z-index: 1000; /* Highest z-index */
    opacity: 0;
    visibility: hidden;
    box-shadow: var(--shadow-lg);
    transition: opacity var(--transition-speed) var(--transition-timing),
                transform var(--transition-speed) var(--transition-timing),
                visibility 0s var(--transition-speed);
    width: 90%; /* Responsive width */
    max-width: 480px; /* Max width for modals */
}
.modal.active { /* Add with JS */
    opacity: 1;
    visibility: visible;
    transform: translate(-50%, -50%) scale(1);
    transition-delay: 0s;
}

/* Specific Modal Styling - reusing .create-new-folder for all similar dialogs */
/* This means elements like #rename-file-folder, #new-url-upload, #get-password
   should also have the .create-new-folder class or a new .modal class */
.create-new-folder { /* Can be renamed to .form-modal if more generic */
    /* Inherits .modal styles if .modal class is added to the HTML element */
}

.create-new-folder h2, /* Using h2 from HTML suggestions */
.modal h2 { /* General modal title */
    font-size: 1.5rem; /* Larger title */
    font-weight: 600;
    color: var(--text-color-primary);
    margin-bottom: 24px;
    width: 100%;
    text-align: center; /* Center modal titles */
    /* margin-left: 10px; */ /* Removed, padding handles spacing */
}
/* Fallback if you still use span for modal titles, but <h2> is better */
.create-new-folder span:first-child {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-color-primary);
    margin-bottom: 24px;
    width: 100%;
    text-align: center;
}


.create-new-folder input[type="text"],
.create-new-folder input[type="password"],
.modal input[type="text"],
.modal input[type="password"] { /* General modal input styling */
    width: 100%;
    padding: 12px 15px; /* Good padding */
    border: 1px solid var(--border-color-input);
    border-radius: var(--border-radius); /* Consistent radius */
    outline: none;
    font-size: 1rem;
    font-weight: 400;
    color: var(--text-color-primary);
    margin-bottom: 20px;
    background-color: var(--input-bg);
    transition: border-color var(--transition-speed) var(--transition-timing), box-shadow var(--transition-speed) var(--transition-timing);
}

.create-new-folder input[type="text"]:focus,
.create-new-folder input[type="password"]:focus,
.modal input[type="text"]:focus,
.modal input[type="password"]:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color), 0.25); /* Focus ring */
}

.create-new-folder div:last-of-type, /* This targets the button container */
.modal .modal-actions { /* Use the specific class from HTML suggestions */
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-end; /* Buttons to the right */
    gap: 12px; /* Space between buttons */
    margin-top: 10px; /* Space above buttons */
}

/* --- Modal Buttons --- */
.create-new-folder button,
.modal button { /* General modal button styling */
    background-color: transparent;
    border: 1px solid transparent; /* Base for secondary button */
    border-radius: var(--border-radius-pill); /* Pill shape for buttons */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all var(--transition-speed) var(--transition-timing);
    font-size: 0.9rem;
    font-weight: 500;
    padding: 10px 24px; /* Generous padding */
}

/* Primary Modal Button (e.g., Create, Save, Upload) */
.create-new-folder button#new-folder-create,
.create-new-folder button#rename-create,
.create-new-folder button#remote-start,
.create-new-folder button#pass-login,
.modal .button-primary {
    background-color: var(--primary-color);
    color: var(--component-bg); /* White text */
    border-color: var(--primary-color);
}
.create-new-folder button#new-folder-create:hover,
.modal .button-primary:hover {
    background-color: var(--primary-hover-color);
    border-color: var(--primary-hover-color);
    box-shadow: var(--shadow-sm);
}

/* Secondary Modal Button (e.g., Cancel) */
.create-new-folder button#new-folder-cancel,
.create-new-folder button#rename-cancel,
.create-new-folder button#remote-cancel,
.modal .button-secondary {
    background-color: transparent;
    color: var(--primary-color);
    border: 1px solid var(--primary-color); /* Or use var(--border-color) for less emphasis */
}
.create-new-folder button#new-folder-cancel:hover,
.modal .button-secondary:hover {
    background-color: var(--primary-light-color);
    /* color: var(--primary-hover-color); */ /* Optional: darken text on hover */
    /* border-color: var(--primary-hover-color); */
}

/* Remote URL Upload Specifics */
#single-threaded-div {
    display: flex;
    flex-direction: row;
    justify-content: flex-start; /* Align to left */
    align-items: center;
    width: 100%;
    margin: 0 0 20px 0; /* Bottom margin only, adjusted to align with input fields */
    font-size: 0.9rem;
    color: var(--text-color-secondary);
}

#single-threaded-div input[type="checkbox"] {
    width: auto; /* Let it size naturally */
    margin: 0px 8px 0px 0px; /* Right margin, no left indent needed if label is after */
    accent-color: var(--primary-color); /* Style checkbox color */
}

#single-threaded-div label {
    cursor: pointer;
}

#single-threaded-div img { /* Info icon */
    height: 16px;
    width: 16px;
    opacity: 0.7;
}
#single-threaded-div a { /* Link wrapping info icon */
    height: 16px;
    width: 16px;
    margin-left: 6px; /* Space before info icon */
    display: inline-flex; /* Helps with alignment */
    align-items: center;
}

/* --- File Uploader Modal --- */
.file-uploader {
    /* Inherits .modal styles if .modal class is added to the HTML element */
    /* If not, copy .modal styles here */
    /* width: 500px; */ /* max-width handles this in .modal */
}

.upload-head { /* Already styled by .modal h2 if using that structure */
    font-size: 1.4rem; /* Or 1.5rem to match other modal titles */
    font-weight: 600;
    color: var(--text-color-primary);
    margin-bottom: 20px;
    width: 100%;
    text-align: center;
}

.upload-info {
    font-size: 0.95rem; /* Slightly larger */
    font-weight: 400;
    color: var(--text-color-secondary);
    margin-bottom: 8px; /* More space */
    width: 100%;
    max-height: 40px; /* Keep this for potential long filenames */
    overflow: hidden;
    text-overflow: ellipsis; /* Add ellipsis for overflow */
    white-space: nowrap;     /* Prevent wrapping for ellipsis */
}

.progress {
    width: 100%;
    background-color: var(--disabled-bg); /* Lighter background */
    border-radius: var(--border-radius-pill); /* Pill shape for progress container */
    overflow: hidden;
    margin-top: 20px;
    height: 12px; /* Thinner progress bar */
}

.progress-bar {
    height: 100%; /* Fill the container */
    background-color: var(--success-color); /* Green for success/progress */
    width: 0%; /* Initial width */
    transition: width 0.3s ease-out; /* Smoother transition */
    border-radius: var(--border-radius-pill);
}

.file-uploader .btn-div { /* This is a .modal-actions */
    /* width: 100%;
    display: flex;
    align-items: center;
    justify-content: end;
    margin-top: 20px; */
    justify-content: center; /* Center cancel button if it's the only one */
}

.file-uploader button, /* Using .button-danger from HTML suggestion */
.modal .button-danger {
    /* background-color: transparent; */ /* Base set in .modal button */
    /* color: var(--danger-color);
    border-color: var(--danger-color); */
    /* This will be styled by .button-danger specific rules in modal buttons */
}
.file-uploader button:hover {
    /* background-color: rgba(var(--danger-color), 0.1); */
}
/* Add this if you have a specific cancel button ID and want it styled as danger */
#cancel-file-upload.button-danger {
    background-color: var(--danger-color);
    color: white;
    border-color: var(--danger-color);
}
#cancel-file-upload.button-danger:hover {
    background-color: darkred; /* Darken the danger color on hover */
    border-color: darkred;
}


/* --- Sidebar Menu --- */
.sidebar-menu {
    margin-top: 25px; /* More space */
    width: 100%;
    display: flex;
    flex-direction: column;
    /* justify-content: start; */ /* Default */
    /* align-items: center; */ /* Align items to start for full-width feel */
    align-items: stretch;
}

.sidebar-menu a {
    width: 100%;
    padding: 12px 15px; /* Adjusted padding */
    display: flex;
    align-items: center;
    /* justify-content: start; */ /* Default */
    color: var(--text-color-secondary);
    font-size: 0.95rem; /* Slightly larger */
    font-weight: 500; /* Medium weight for menu items */
    text-decoration: none;
    transition: background-color var(--transition-speed) var(--transition-timing), color var(--transition-speed) var(--transition-timing);
    border-radius: var(--border-radius); /* Consistent radius */
    margin-bottom: 6px; /* Space between menu items */
}

.sidebar-menu a img { /* Icons in menu */
    width: 20px;
    height: 20px;
    margin-right: 12px;
    opacity: 0.6; /* Slightly muted icons */
    transition: opacity var(--transition-speed) var(--transition-timing);
}

.sidebar-menu .selected-item {
    background-color: var(--primary-light-color);
    color: var(--primary-color); /* Primary color for text */
    font-weight: 600; /* Bolder for selected */
}
.sidebar-menu .selected-item img {
    opacity: 1; /* Full opacity for selected icon */
    /* Optional: filter to primary color if SVGs allow */
}

.sidebar-menu .unselected-item:hover {
    background-color: var(--component-secondary-bg); /* Subtle hover */
    color: var(--text-color-primary);
}
.sidebar-menu .unselected-item:hover img {
    opacity: 0.8;
}

/* --- Main Content Style Start --- */
.main-content {
    width: 100%;
    height: 100%; /* Should be 100vh if not constrained by container */
    padding: 24px 30px; /* Generous padding */
    display: flex;
    flex-direction: column;
    /* justify-content: star
